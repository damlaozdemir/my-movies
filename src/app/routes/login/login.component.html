<app-header></app-header>

<div class="d-flex justify-content-center">
    <div>
        <form class="form-group" [formGroup]="form" (submit)="submit()">
            <div class="input-group">
                <div class="flex-fill">
                    <input type="text" formControlName="username"
                        [ngClass]="{ error: form.controls['username'].invalid && form.controls['username'].touched }"
                        class="form-control" placeholder="Kullanıcı adı" autocomplete="off" required>
                </div>
                <ng-container *ngIf="form.controls['username'].invalid && form.controls['username'].touched">
                    <div class="input-warning text-danger mt-1">Lütfen kullanıcı adınızı giriniz</div>
                </ng-container>
            </div>
            <div class="mt-3">
                <div class="input-group">
                    <input [type]="passwordEyeClosed ? 'password' : 'text'" formControlName="password"
                        [ngClass]="{ error: form.controls['password'].invalid && form.controls['password'].touched }"
                        class="form-control" placeholder="Şifre" autocomplete="off" required>
                    <div class="input-group-append">
                        <span class="input-group-text pr-0"
                            [ngClass]="{ error: form.controls['password'].invalid && form.controls['password'].touched }">
                            <div (click)="togglePassword()">
                                <ng-container *ngIf="passwordEyeClosed; else passwordIconEye">
                                    <i class="fa fa-eye-slash"></i>
                                </ng-container>
                            </div>
                            <ng-template #passwordIconEye>
                                <i class="fa fa-eye"></i>
                            </ng-template>
                        </span>
                    </div>
                </div>
                <ng-container *ngIf="form.controls['password'].invalid && form.controls['password'].touched">
                    <div class="input-warning text-danger mt-1">Lütfen şifrenizi giriniz</div>
                </ng-container>
            </div>
            <div class="mt-3">
                <button class="btn btn-full btn-primary" type="submit"
                    [disabled]="!form.valid || isLoading">Giriş</button>
            </div>
        </form>
    </div>
</div>